# 调试 .NET Framework 源代码

- [如何调试 .NET Framework 源代码](https://docs.microsoft.com/zh-cn/visualstudio/debugger/how-to-debug-dotnet-framework-source)

- [在 Visual Studio 调试器中指定符号 (.pdb) 和源文件](https://docs.microsoft.com/zh-cn/visualstudio/debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger)

- [.NET Framework 源代码下载](https://referencesource.microsoft.com/download.html)

## 条件

- 加载符号文件：调试之前要加载符号文件，F11步入才有可能触发源码加载或下载
- 加载源码（不会自动加载源码的情况）：加载符号文件之后，调试器会根据符号文件记录的源码位置查找并打开源码。我们要做的就是触发加载源码的弹窗，手动选择上面下载的源码。

## 提前断点

- 选择源码文件之后，即可开始调试。此时打开的源码可以在里面其它地方断点，运行到的时候就会命中断点，但前提是要加载它对应的符号文件
- 如果需要在运行前断点，并在运行到断点行时命中，需要先加载符号文件：在调试-调试堆栈窗口选择需要断点的模块，单击右键选择始终加载，那么下次运行就会自动加载符号了。也可以在调试堆栈转到模块列表，然后设置加载。或者在工具-调试-符号-始终加载指定模块，填写dll名包括dll

## 注意

- 下载的. NET Framework源码可能跟引用的不是完全对应，这是需要注意的
